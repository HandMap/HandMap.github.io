<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <title>Getting started with OpenCV &#8211; Hand Map</title> <meta name="description" content="I begin to investigate one of the most popular open source computer vision libraies, OpenCV"> <meta name="keywords" content="project, opencv, ubuntu"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="halve.png"> <meta name="twitter:title" content="Getting started with OpenCV"> <meta name="twitter:description" content="I begin to investigate one of the most popular open source computer vision libraies, OpenCV"> <meta name="twitter:site" content="@nathangloverAUS"> <meta name="twitter:creator" content="@nathangloverAUS"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="Getting started with OpenCV"> <meta property="og:description" content="I begin to investigate one of the most popular open source computer vision libraies, OpenCV"> <meta property="og:url" content="https://handmap.github.io/getting-started-with-opencv/"> <meta property="og:site_name" content="Hand Map"> <meta property="og:image" content="https://handmap.github.io/images/halve.png"> <link rel="canonical" href="https://handmap.github.io/getting-started-with-opencv/"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Feed --> <link type="application/atom+xml" rel="alternate" href="https://handmap.github.io/feed.xml" title="Hand Map" /> <!-- Favicons --> <link rel="shortcut icon" type="image/png" href="https://handmap.github.io/favicon.png" /> <link rel="shortcut icon" href="https://handmap.github.io/favicon.ico" /> <!-- CSS --> <link rel="stylesheet" type="text/css" href="https://handmap.github.io/assets/css/main.css"> <!-- Left Block Image for Posts --> <style type="text/css"> #posts.inner-post-page .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(https://handmap.github.io/images/unsplash-gallery-image-3.jpg) no-repeat;background-size: cover;} </style> <!-- Left Block Images for Home and Pages --> <style type="text/css"> #posts .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(https://handmap.github.io/images/unsplash-image-10.jpg) no-repeat;background-size: cover, cover;} .block-left {background: linear-gradient(rgba(44,45,51,0.9), rgba(44,45,51,0.9)), url(https://handmap.github.io/images/home.png) no-repeat;background-size: cover;} </style> </head> <body id="posts" class="inner-post-page"> <div class="block-left"> <div class="content"> <a href="https://handmap.github.io" class="logo"><img src="https://handmap.github.io/images/halve.png"></a> <div class="post-title-section"> <div class="section-line">Posts <em>/</em></div> <h1 class="section-title">Getting started with OpenCV </h1> <ul class="tags"> <li><a href="https://handmap.github.io/tags#project">project</a></li> <li><a href="https://handmap.github.io/tags#opencv">opencv</a></li> <li><a href="https://handmap.github.io/tags#ubuntu">ubuntu</a></li> </ul> <div class="section-line reverse"><a href="https://handmap.github.io/posts">Back to posts</a> <em>/</em></div> </div> </div> </div> <div class="block-right"> <div class="share-buttons"> <a href="https://twitter.com/intent/tweet?text=https://handmap.github.io/getting-started-with-opencv/" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://handmap.github.io/getting-started-with-opencv/" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://plus.google.com/share?url=https://handmap.github.io/getting-started-with-opencv/" class="btn btn_google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> </div> <a href="../posts.html" title="posts" class="posts-menu-icon"></a> <a title="projects" class="projects-menu-icon"> <span></span> </a> <div class="inner-post content"> <div class="date-highlight">05 Aug 2016</div> <h2 id="introduction">Introduction</h2> <p>I’ve decided to investigate some of the computer vision libaries that are already available that could possibly already do what I need; therefore saying me a lot of time not having to re-invent the wheel.</p> <p>I had the idea to look into OpenCV when I noticed a particular repository trending on <a href="https://github.com/">Github</a> the other day. The repo in question; maintained by <a href="https://github.com/Shinao">Raphael Monnerat</a> was titled <a href="https://github.com/Shinao/SmartMirror">SmartMirror</a> and is designed to turn a two-way mirror into a gesture controlled smart device.</p> <figure> <img src="https://handmap.github.io/images/posts/2016-08-05/SmartMirror_DisplayMenu_Preview.gif" alt="Smart Mirror" /> <figcaption>Raphael using Smart Mirror</figcaption> </figure> <p>The potential for me to apply a similar algorithm to the one he was using to my project was almost too obvious, as it looked as though his implementation used some form of Hand Detection/Recognition. He even had a debugging tool packaged with his code that would display the gesture recognition information in real time while testing.</p> <figure> <img src="https://handmap.github.io/images/posts/2016-08-05/SmartMirror_Debug.png" alt="Smart Mirror Debug" /> <figcaption>Smart Mirror Debug</figcaption> </figure> <h2 id="installing-opencv">Installing OpenCV</h2> <p>My first task was to install OpenCV on a system that I could use to test the SmartMirror code. I span up an Ubuntu 16.04.1 instance and ran the following code to setup the latest OpenCV version on the system.</p> <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="c">## Install pre-requisites</span>
<span class="gp">$ </span>sudo apt-get update
<span class="gp">$ </span>sudo apt-get upgrade
<span class="gp">$ </span>sudo apt-get install build-essential
<span class="gp">$ </span>sudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev
<span class="gp">$ </span>sudo apt-get install python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev

<span class="c">## Change directory into a working folder</span>
<span class="gp">$ </span><span class="nb">cd</span> ~/Documents/

<span class="c">## Clone OpenCV repo and build from source</span>
<span class="gp">$ </span>git clone https://github.com/opencv/opencv.git
<span class="gp">$ </span><span class="nb">cd </span>opencv/
<span class="gp">$ </span>mkdir release
<span class="gp">$ </span><span class="nb">cd </span>release/
<span class="gp">$ </span>cmake -D <span class="nv">CMAKE_BUILD_TYPE</span><span class="o">=</span>RELEASE -D <span class="nv">CMAKE_INSTALL_PREFIX</span><span class="o">=</span>/usr/local ..
<span class="gp">$ </span>make
<span class="gp">$ </span>sudo make install
</code></pre></div> <p>Now that I had the latest version of OpenCV installed I needed to make sure it was working. I also decided that my language of choice; particularly during the initial testing phases would be Python.</p> <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="c">## Change into the OpenCV samples directory</span>
<span class="gp">$ </span>~/Documents<span class="nv">$ </span><span class="nb">cd </span>opencv/samples/python/

<span class="c">## Either run each tool separately or use demo.py to list all demos</span>
<span class="gp">$ </span>python demo.py 
</code></pre></div> <p>I had a play around with a number of the built in tools and was very impressed by the level of quality and detailed code each example provided. One of my personal favorites was the ‘edge.py’ example as I felt like it would provide a very good starting point for when I begin writing my hand detection method.</p> <figure> <img src="https://handmap.github.io/images/posts/2016-08-05/OpenCV-Edgepy-test.png" alt="OpenCV Edge Detection" /> <figcaption>OpenCV Canny Edge Detection</figcaption> </figure> <h2 id="smartmirror-analysis">SmartMirror Analysis</h2> <p>Now that I had OpenCV installed I decided I would attempt to demo the SmartMirror hand detection code to see if it was as good as it looked like it was.</p> <p>I started out by cloning the repository using git and locating the ‘test.py’ file mentioned in the repo README.md.</p> <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="c">## Change into SmartMirror/Motion directory</span>
<span class="gp">$ </span>git clone https://github.com/Shinao/SmartMirror.git
<span class="gp">$ </span><span class="nb">cd </span>SmartMirror/Motion

<span class="c">## Execute the test.py script</span>
<span class="gp">$ </span>python test.py
</code></pre></div> <p>The example was very finicky to get working, The hand detection itself works very well when it isn’t getting confused about the background lighting.</p> <figure> <img src="https://handmap.github.io/images/posts/2016-08-05/SmartMirror_Debug_Nathan_3slide.png" alt="SmartMirror Hand Detection" /> <figcaption>SmartMirror Hand Detection</figcaption> </figure> <p>Difficulty assign, the implementing was detecting my palm, and there was even logic in place to handle hand movements (swiping in different directions).</p> <figure> <img src="https://handmap.github.io/images/posts/2016-08-05/SmartMirror_Debug_Nathan_gesture.png" alt="SmartMirror Hand Detection" /> <figcaption>SmartMirror Gesture</figcaption> </figure> <h2 id="summary">Summary</h2> <p>Today was a productive session that really got me thinking about the possibilities that OpenCV has to offer. Now that I know that what I want to achieve is very possible with the OpenCV libraries I believe my next step will be to learn the OpenCV frameworks from scratch. My goal for the next week is to build up a small library myself so that I can begin to understand how other peoples code works without having to guess/hack a solution together.</p> <p>I picked up a digital copy of <a href="https://www.pyimagesearch.com/practical-python-opencv/">Practical Python and OpenCV</a> by Adrian Rosebrock as I’ve had it recommended to me before as a great practical reasource for learning the in’s and out’s of OpenCV.</p> <p>Until next time,</p> <p>Nathan.</p> <br> <a href="https://twitter.com/intent/tweet?text=https://handmap.github.io/getting-started-with-opencv/" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://handmap.github.io/getting-started-with-opencv/" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://plus.google.com/share?url=https://handmap.github.io/getting-started-with-opencv/" class="btn btn_google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> <nav class="pagination"> <a href="#" class="pagination_pager disabled">previous</a> <a href="https://handmap.github.io/project-introduction/" class="pagination_pager" title="Project Introduction ">next</a> </nav> </div> </div> <!-- JS --> <script src="https://handmap.github.io/assets/js/main.min.js"></script> <div class="overlay"> <ul class="projects-menu"> <li style="background:url(https://github.com/HandMap/HandMap.github.io/blob/master/images/project.jpg) center center no-repeat;"> <a href="https://handmap.github.io" class="inactive" target="_blank" rel="nofollow external"> <span> Hand Map Project <br><em>in progress</em> </span> </a> </li> </ul> </div> </body> </html>
